# 01. 서론

### **운영체제**

운영체제란 컴퓨터 하드웨어 위에 설치되는 소프트웨어이다.

다른 프로그램이 유용한 작업을 할 수 있는 환경을 제공하며 일반적으로 커널이라 불린다.

하드웨어와 일반 사용자들 간의 중개자 역할을 하여 그 사용을 돕고, 하드웨어 관리를 돕는다.

<br/>

### **운영체제의 역할**

- 사용자 관점: 사용자의 편의성을 위함
- 시스템 관점: 자원을 제어하고 할당

**프로세스 관리**

프로세스란 현재 실행중인 프로그램이자 한 시스템 내의 작업의 단위이다.

- CPU에 프로세스와 스레드를 스케줄하기
- 사용자 프로세스와 시스템 프로세스의 생성과 제거
- 프로세스의 일시 중지와 재실행

**메모리 관리**

- 메모리의 어느 부분이 현재 사용되고 있으며 누구에 의해 사용되고 있는지를 추적
- 어떤 프로세스들을 메모리에 적재하고 제거할 것인가를 결정
- 필요에 따라 메모리 공간을 할당하고 회수

**파일 관리**

- 파일/디렉터리 생성 및 제거
- 안정적인(비휘발성) 저장 매체에 파일을 백업

**디스크 관리**

- 자유 공간의 관리
- 저장 장소 할당
- 디스크 스케줄링

**캐시 관리**

캐시의 크기에 한계가 있기 때문에 캐시 관리가 설계의 중요한 문제가 된다.

특정 정보가 필요할 경우 먼저 캐시에 그 정보가 있는지를 조사한다. 만약 캐시에 있으면 그 정보를 캐시로부터 직접 사용하고, 없다면 메인 메모리 시스템으로부터 그 정보를 가져와서 사용한다.

`캐시일관성`: 연산을 할 때 A 라는 변수의 복사본이 여러 곳에 존재하게 된다. 여러 개의 프로세스가 A에 접근할 수 있는 멀티 태스킹 환경에서는 A의 최신 갱신값을 보장해야하며 A값이 갱신될 경우 모든 캐시에 즉각적으로 반영되어야 한다.

**입출력 관리**

I/O 디바이스들은 각각 I/O 디바이스 컨트롤러라는 독자적인 작은 CPU를 갖고 있으며, 인터럽트를 중심으로 컴퓨터와 정보를 주고 받는다.

<br/>

### **컴퓨터 시스템**

컴퓨터 시스템은 컴퓨터(CPU + 메모리)와 I/O 장치(각종 디바이스+ 디바이스 컨트롤러)로 구성된다.

CPU는 프로그램 카운터 레지스터가 가리키는 메모리 주소에 있는 명령어를 바삐 수행하는 일꾼이다.

<br/>

### **인터럽트**

CPU는 하나의 명령어 수행이 끝나면 다음 명령어를 수행하기 전에 인터럽트가 들어온 게 있는지를 확인한다.

인터럽트가 들어왔다면 현재 CPU를 누가 사용하고 있었는지와 상관없이 CPU 제어권이 운영체제에게로 넘어간다.

각 인터럽트 상황에 맞게 처리해야 하는 일들이 운영체제 안에 커널 함수(인터럽트 처리 루틴)로 정의가 되어있다.

`인터럽트 벡터`: 인터럽트 처리 루틴 주소를 얻을 수 있음

인터럽트 구조는 인터럽트에 의해 중단된 명령의 주소를 저장해야 한다.

인터럽트를 서비스한 후, 저장되어 있던 복귀 주소를 프로그램 카운터에 적재하고 인터럽트에 의해 중단되었던 연산이 인터럽트가 발생되지 않았던 것처럼 다시 시작된다.

<br/>

### **이중연산모드**

잘못된 사용자로부터 운영체제를 그리고 잘못된 사용자 서로를 보호하기 위해 최소한 두 개의 분리된 연산 모드를 갖는다.

`mode bit`: CPU에서 사용되고 있는 것이 운영체제인지, 사용자인지를 구분해준다

- `0(커널 모드)`: 특권명령을 포함한 모든 명령어 사용 가능, 운영체제가 CPU를 가지고 있을 때
  - I/O 장치에 접근하는 명령어는 운영체제만 실행할 수 있게 되어있다.
  - 사용자 프로그램이 I/O 장치에 접근하고 싶으면 운영체제에게 요청(system call)해야한다.
  - 이 요청을 수행하기 위해서는 트랩(SW에 의해 생성된 인터럽트)을 발생시켜 사용자 모드에서 커널 모드로 전환해야 한다.
  - 인터럽트, 트랩 또는 시스템 호출이 발생할 때마다 하드웨어는 모드 비트를 0으로 변경한다. (제어가 운영체제로 다시 넘어오게 된다.)
- `1(사용자 모드)`: 한정된 명령어 사용 가능, 사용자 프로그램이 CPU를 가지고 있을 때
  - 시스템은 사용자 프로그램으로 제어를 넘기기 전에 항상 모드 비트를 1로 설정한다.

<br/>

### **타이머**

특정 프로그램이 CPU를 독점하는 것을 막기 위해서 존재한다.

특정 프로그램에게 CPU가 할당된 후 일정 시간이 지나면 운영체제에게 CPU제어권이 넘어가도록 인터럽트를 발생시킨다.

<br/>

### 보호와 보안

`보호`란 컴퓨터 시스템이 정의한 자원에 대해 프로그램, 프로세스, 또는 사용자들의 접근을 제어하는 기법이다.

컴퓨터 시스템은 충분한 보호 기능을 갖고 있더라도 외부 또는 내부의 공격에 의해 여전히 고장이 나거나 부적절한 접근이 허용될 수 있다.

이러한 공격을 방어하는 것이 바로 `보안` 기능이다.

보호와 보안을 제공하기 위해서는 시스템의 모든 사용자들을 구분할 수 있어야 한다.

`사용자 식별자`: 보호와 보안을 제공하기 위해 시스템의 모든 사용자를 구분하는 식별자. 사용자마다 할당되고 시스템에서 유일한 값을 가진다.

`그룹 식별자`: 사용자의 집합을 구분하는 식별자

`유효 사용자 식별자`: 특정 작업을 위한 권한 상승을 허용하기 위한 식별자

<br/>

### 커널 자료 구조

- `연결 리스트`: 리스트는 데이터 값들의 집단을 하나의 순서로 표시한다. 연결 리스트에서는 각 항이 다른 하나에 연결되어 있다.
  - `단일 연결 리스트`: 각 항은 후속 항을 가리킨다.
  - `이중 연결 리스트`: 한 항은 자신의 앞 항이나 뒤 항을 가리킨다.
  - `원형 연결 리스트`: 리스트의 마지막 항이 null이 아니라 첫 항을 가리킨다.
- `스택`: 후입선출(LIFO)
- `큐`: 선입선출(FIFO)
- `트리`: 데이터를 계층적 구조로 구성하는 데 사용 가능한 자료구조
  - `일반 트리`: 부모는 임의의 수의 자식을 가질 수 있다.
  - `이진 트리`: 부모는 최대 두 개의 자식(좌측 자식, 우측 자식)을 가질 수 있다.
- `해시맵`: 해시 함수를 사용하여 [키:값] 을 연관시킨다.
- `비트맵`: n개의 항의 상태를 나타내는 데 사용 가능한 n개의 이진 비트의 스트링이다. 0은 자원이 사용 가능함, 1은 사용 불가능함을 표시한다.

<br/>

### 가상화

가상화는 운영체제가 다른 운영체제 내에서 하나의 응용처럼 실행될 수 있게 한다.

다수의 가상기계를 실행함으로써 많은 사용자들이 단일 사용자를 위해 설계된 시스템에서 작업을 수행할 수 있게 되었다.

<br/>

### 클라우드컴퓨팅

- `공중 클라우드`: 서비스를 위해 지불 가능한 사람은 누구나 인터넷을 통해 사용 가능한 클라우드
- `사유 클라우드`: 자기 회사만 이용하기 위하여 그 회사가 운영하는 클라우드
- `혼합형 클라우드`: 공공과 사유 부분을 모두 포함하는 클라우드
- `소프트웨어 서비스(SaaS)`: 인터넷을 통해 사용 가능한 하나 이상의 응용
- `플랫폼 서비스(PaaS)`: 인터넷을 통해 응용이 사용할 수 있도록 준비된 소프트웨어 스택
- `기간시설 서비스(IaaS)`: 인터넷을 통해 사용 가능한 서버나 저장장치
